<html>
<title>Changes.OS2</title>
<body bgcolor=#CFCFCF>


<center><table align=center border CELLSPACING=10 CELLPADDING=10>
<tr>
<td align=center><font size=5><b>Changes.OS2</b></font></td>
<td align=left>
This document describes the history of changes i have made,
when porting Octave to OS/2. It does not contain the changes
between the different original Octave versions.<p>
<menu>
<img src="bullet.gif" align=bottom>
<a href="octave.html">Octave for OS/2 Homepage.</a><br>
<img src="bullet.gif" align=bottom>
<a href="intro.html">Introduction</a><br>
<img src="bullet.gif" align=bottom>
<a href="readme.html">Read Me!</a><br>
</menu>
</td>
</table></center>




<hr><center><table align=center border CELLSPACING=10 CELLPADDING=10>
<tr><td align=center><font size=5>
Changes since the Version 2.09 of Octave for OS/2</font></table></center>






<ul><dt><b>Octave 2.0.17 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.17. This might be the final 2.0.x version.
</ul>
</ul><p>


<ul><dt><b>Octave 2.0.16 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.16
</ul>
</ul><p>


<ul><dt><b>Octave 2.0.15 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.15
</ul>
</ul><p>


<ul><dt><b>Octave 2.1.23 Build 01:</b></dt><hr>
<ul>
<li> New version 2.1.234.<br><b>Octave 2.1.234 is a test release!</b>
</ul>
</ul><p>


<ul><dt><b>Octave 2.1.14 Build 02:</b></dt><hr>
<ul>
<li> atanh(1) and acoth(1) will no longer crash Octave.
</ul>
</ul><p>


<ul><dt><b>Octave 2.0.14 Build 02:</b></dt><hr>
<ul>
<li> atanh(1) and acoth(1) will no longer crash Octave.
</ul>
</ul><p>


<ul><dt><b>Octave 2.1.14 Build 01:</b></dt><hr>
<ul>
<li> New version 2.1.14.<br><b>Octave 2.1.14 is a test release!</b>
</ul>
</ul><p>


<ul><dt><b>Octave 2.0.14 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.14
<li> diary bug fixed: User input when running a script will now be written
     into the diary file.
</ul>
</ul><p>


<ul><dt><b>Octave 2.0.13 Build 02:</b></dt><hr>
<ul>
<li> oregonator.cc renamed to oregon.cc.
<li> Patch included:
  <ul>
  <li> src/file-io.cc and liboctave/data-conv.cc: uint16 and uint32
  types supported in fread.
  </ul>
<li> Complex erf added to examples for dlfcn.
<li> Patch included:
  <ul>
  <li> data.cc: is_complex added.
  </ul>
<li> GNU Info updated to version 2.18.
<li> kpathsearch version 3.2 used.
<li> Help in image.m is now correct.
</ul>
</ul><p>


<ul><dt><b>Octave 2.0.13 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.13
<li> Plot functions patched.
<li> Patch included:
  <ul>
  <li> DASSL.cc (DASSL::do_integrate): If an exception occurs in the
  call to ddassl, set integration_error to 1 before calling the
  error handler and returning.
  </ul>
<li> Patch included:
  <ul>
  <li> Array2-idx.h (assign): Allow A([],[]) = scalar and, if
  do_fortran_indexing is set, A([]) = scalar.
  <li> Array-idx.h (assign): Allow A([]) = scalar.
  </ul>
<li> Patch included:
  <ul>
  <li> time.cc (extract_tm): Truncate field values instead of rounding.
  (Fgmtime, Flocaltime): Likewise, for timeval.
  </ul>
</ul>
</ul><p>


<ul><dt><b>Octave 2.0.11 Build 02:</b></dt><hr>
<ul>
<li> New Version 2.0.11
<li> Patches included:
  <ul>
  <li> symtab.cc (symbol_record::variable_value): Avoid dereferencing
  NULL pointer.
  <li> lo-spec-fun: the order of the arguments in the gammai and gammainc.
  </ul>
<li> Patch included:
  <ul>
  <li> error.cc (verror): Fix thinko in attempt to skip `error: ' tag
  when buffering error messages.
  <li> pt-cmd.cc (tree_try_catch::eval): Reset buffer_error_messages
  here if just discarding unwind_protect frame.
  </ul>
<li> Typos in mplot.m fixed.
<li> __pltopt__ functionality extended:<br>
  Now, for plot (x, y, fmt) in the cases where either x or y (or both)
  are matrices, fmt can also be a string array.  The rows of the string
  array correspond to the lines on the plot:
  <ul>
  <li> plot/__pltopt1.m__: New file.
  <li> plot/__pltopt.m__: Handle opt as a string array by calling
  __pltopt1__ multiple times and returning a string array with rows
  corresponding to the rows of opt.
  <li> plot/__plt2ss__.m, plot/__plt2vv__.m, plot/__plt2vm__.m,
  <li> plot/__plt2mv__.m, plot/__plt2mm__.m: Handle fmt as a string array.
  </ul>
</ul>
</ul><p>


<ul><dt><b>Octave 2.0.10 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.10
<li> Default install path changed (h:/apps/science/octave).
</ul>
</ul><p>


<ul><dt><b>Octave 2.09.98 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.9.98 (Beta)
</ul>
</ul><p>


<ul><dt><b>Octave 2.09.97 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.9.97 (Beta)
</ul>
</ul><p>


<hr><center><table align=center border CELLSPACING=10 CELLPADDING=10>
<tr><td align=center><font size=5>
Changes since the Version 1.9x of Octave for OS/2</font></table></center>


<ul><dt><b>Octave 2.09 Build 03:</b></dt><hr>
<ul>
<li> mkfifo is now supported.
<li> inst-octave.cmd creates WPS objects for the documentation.
<li> The documentation is now also available in OS/2's INF format. You can
     view them using gnuview as Octave's external info viewer.
<li> Compiler updated (EMXFIX03).
<li> Bug in logm (wrong result for a complex scalar argument) fixed.
<li> Minor changes in the sources and makefiles.
<li> Workaround for the bug in the fortran routine DGELSS added
     (in CMatrix.cc).
<li> Patch included:
     <ul>
     <li> idx-vector.cc (IDX_VEC_REP::sort): New function.
     <li> idx-vector.h (idx_vector::sort): Ditto.
     <li> Array2-idx.h (Array2<T>::maybe_delete_elements): Use it before
	  trying to delete elements specified by the index vectors.
     </ul>
</ul>
</ul><p>


<ul><dt><b>Octave 2.09 Build 02:</b></dt><hr>
<ul>
<li> Bug in cruft4.def fixed, which caused Octave to crash, when trying to
     compute eig(A) (or norm(A), ...) with a complex matrix A.
</ul>
</ul><p>


<ul><dt><b>Octave 2.09 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.9.
</ul>
</ul><p>


<ul><dt><b>Octave 2.08 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.8.
<li> Patch for pt-fvc.cc included.
</ul>
</ul><p>


<ul><dt><b>Octave 2.07 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.7.
</ul>
</ul><p>


<ul><dt><b>Octave 2.06 Build 01:</b></dt><hr>
<ul>
<li> New Version 2.0.6.
<li> All functions working with FILE IDS (file handles) are renamed:<br>
     _dup, _dup2, _close, _fdopen, _pipe.
<li> The function pipe is now returning the octave file streams.
<li> Minor modifications in the makefiles.
</ul>
</ul><p>


<ul><dt><b>Octave 2.05 Build 04:</b></dt><hr>
<ul>
<li> inst-octave.cmd and updt-octave.cmd patched.
<li> Patches included:<br>
     input.cc (octave_read): Don't forget to free input buffer if it exists
     and has zero length.<br>
     (gnu_readline): Free buf if fgets returns 0.<br>
     parse.y: Parse error will not abort Octave, when
     forced_interactive "-i"<br>
     Array2-idx.h (Array2<T>::maybe_delete_elements): Prevent out-of-bounds
     indexing of the index array.<br>
     Array-idx.h (Array<T>::maybe_delete_elements): Likewise.<br>
     idx-vector.cc (IDX_VEC_REP::is_colon_equiv): Make it work
     when the vector is not sorted.<br>
</ul>
</ul><p>


<ul><dt><b>Octave 2.05 Build 03:</b></dt><hr>
<ul>
<li> lex.l patched:
     help will work with text mode files, even if the help text is not at the
     beginning of the file.
<li> Lisp files modified:<br>
     hilit19 will not be loaded, when running emacs in normal text mode.
<li> parse.y patch included:<br>
     Using formal parameters for functions, the names of which are already
     being used by builtin functions, will not produce errors. For example:<br>
     function y=f(type), y=type; end;
<li> variables.cc patched: &ltCR&gts are not copied into the help text.
<li> The full name of the executable can be specified in .emacs.
<li> inst-octave.cmd and updt-octave.cmd patched.
<li> lex.l patched: Octave reads script and function files with lines like:<br>
<pre>
            x = x + ...
                3;
</pre><br>
</ul>
</ul><p>


<ul><dt><b>Octave 2.05 Build 02:</b></dt><hr>
<ul>
<li> New internal system routine (also used in procbuf):<br>
     All / in the executable are replaced by \ when using cmd.exe or 4os2.exe
     as shell and all \ are replaced by / when using a UNIX shell.
<li> make-octfile.cmd patched: The dynamic loading of function will
     under OS/2 2.xx.
<li> nextpow2.m patched: nextpow2(1000) returns 10.
<li> inst-octave.cmd patched: scripts.fat will be renamed to scripts on FAT.
<li> The files in the subdirectory doc are FAT compatible.
<li> Octave reads script and function files with lines like:<br>
<pre>
            M = [1 2
                 3 4]
</pre><br>
</ul>
</ul><p>


<ul><dt><b>Octave 2.05 Build 01:</b></dt><hr>
<ul>
<li> New version: Octave 2.0.5
<li> help will work with text (&ltCR&gt&ltLF&gt) files.
<li> No endfunction is needed at the end of a function file.
<li> Octave uses noncontinous multiple heaps. So the heap size is no longer
     fixed to 32 MB.
<li> Image viewer and GNUPlot can be used at the same time again.
     The environment variable OCTAVE_IMAGE_VIEWER is supported again.
<li> (require 'hilit19) added in lisp files.
<li> octave-mode.el modified: switch/case/otherwise/endswitch statement
     included.
</ul>
</ul><p>


<ul><dt><b>Octave 2.02 Build 02:</b></dt><hr>
<ul>
<li> Bug in usleep fixed. plot works again.
<li> erf(x) and erfc(x) are supported. Bug in erfinv.m is fixed.
<li> gamma(2000) no longer aborts Octave.
<li> Bugfixes in the installationsscript. Corrected README.OS2
<li> Default value of IMAGEPATH now points to ../scripts/image.
<li> Patch included (oct-stream.cc):<br>
     scanf reads correctly when using %f or %e.
</ul>
</ul><p>


<ul><dt><b>Octave 2.02 Build 01:</b></dt><hr>
<ul>
<li> POPEN2.M modified:<br>
     The script now uses the new function spawn to start the child process.
<li> The environment variable OCTAVE_IMAGE_VIEWER is no longer supported.
     Modify the script file IMAGE.M, if you want to use another image viewer.
<li> Function added: child_purge_temp_file. It removes the temporary file
     when the specified child process dies (used in IMAGE.M).
<li> The pipe function returns the file handles and not the Octave's file ids.
     Use fdopen to open the handles!
<li> Functions added: dup, close, fdopen.
<li> Function added: spawn.
<li> Octave reads OS/2 BMP (version 1.0) Windows BMP, PNM (P1 - P6) and
     Octave's IMG format. It writes OS/2 BMP (version 1.0) Windows BMP,
     PNM (P5, P6), Postscript and Octave's IMG format. LOADIMAGE.M and
     SAVEIMAGE.M are modified (the original version are in the archive
     image.zip).
<li> New version: Octave 2.0.2
<li> Bug fixes in dlfcn.lib.
</ul>
</ul><p>


<ul><dt><b>Octave 2.01 Build 01:</b></dt><hr>
<ul>
<li> Dynamic Linking is now supported! See hello.cc and make_int.cc for
     example. A small bug in make_int.cc fixed.
<li> Bug in xor.m fixed.
<li> Bug in the installation script fixed:<br>
     The script will not replace the first "\DLL" in LIBPATH, if Octave
     is installed for the first time on a system.
<li> The installation script is renamed to inst-octave.cmd.
<li> New version 2.0.1.
<li> All C++ Code is now placed in DLLs.
<li> GNUPLOT is started as normal VIO, so gshow will work.
     Also because of other changes in the code, CTRL-C works even
     when GNUPLOT is started.
<li> Minor changes in the sources.
</ul>
</ul><p>


<ul><dt><b>Octave 2.00 Build 01:</b></dt><hr>
<ul>
<li> New version: Octave 2.0.
<li> Script and function files are loaded correctly even if they contain an
     End-of-file character. This character will be interpreted as a newline
     character.
<li> saveimage saves images in bmp, gif and ps files.
</ul>
</ul><p>



<hr><center><table align=center border CELLSPACING=10 CELLPADDING=10>
<tr><td align=center><font size=5>
Changes since the Version 1.1.1 of Octave for OS/2</font></table></center>


<ul><dt><b>Octave 1.94 Build 01:</b></dt><hr>
<ul>
<li> New version 1.94 (pre-2.0).<br><b>Octave 1.94 is a test release!</b>
<li> New command line flag '-I'. It forces interactive behaviour, but
     deactivates the pager, even if Octave is in interactive mode.
<li> Every signal which will cause a jump to toplevel (Octave prompt), will
     be handled differently if a script or function file is executed: It will
     be handled as an error.
</ul>
</ul><p>


<ul><dt><b>Octave 1.93 Build 02:</b></dt><hr>
<ul>
<li> New version 1.93 (pre-2.0).<br><b>Octave 1.93 is a test release!</b>
<li> Octave loads script and functions files even if they are no text files
     (CR/LF).
<li> The sigchld_handler in sighandlers.cc is patched:<br>
     When no child in octave_child_list has created SIGCHLD, waitpid is
     executed. This solves problems with displaying images when GNUPLOT is
     running, and similar problems.
<li> Octave's system command now correctly returns the output or the pid,
     depending on the number or values of the arguments.
<li> The image viewer is started in "async"-mode.
<li> Changes in octave.el: hilit19 is used in the octave-shell-mode.
</ul>
</ul><p>


<ul><dt><b>Octave 1.92 Build 02:</b></dt><hr>
<ul>
<li> get_size in oct-stream.cc patched:<br>
     fread will work, when the second argument is a scalar.<br>
<li> kbhit () in sysdep.cc calls flush_octave_stdout ().<br>
<li> sighandlers.cc and toplev.cc patched:<br>
     Ctrl-C and Ctrl-Break will work more than only once again.
</ul>
</ul><p>


<ul><dt><b>Octave 1.92 Build 01:</b></dt><hr>
<ul>
<li> New version 1.92 (pre-2.0).<br><b>Octave 1.92 is a test release!</b>
<li> Minor bug fixes in octave-info.el.
<li> Changes in octave-mode.el: hilit19 is used for editing script files.
<li> New command add to the Emacs-Shell-Mode for Octave:<br>
     warranty, multiplot, close multiplot, subwindow.
<li> Minor changes in the the makefiles for OS/2.
     These changes do not modify the binary.
</ul>
</ul><p>


<ul><dt><b>Octave 1.91 Build 01:</b></dt><hr>
<ul>
<li> New version 1.91 (pre-2.0).<br><b>Octave 1.91 is a test release!</b>
</ul>
</ul><p>


<ul><dt><b>Octave 1.90 Build 01:</b></dt><hr>
<ul>
<li> New version 1.90 (pre-2.0).<br><b>Octave 1.90 is a test release!</b>
<li> New libraries (readline, kpathsea).
<li> Octave uses again an internal info viewer:<br>
     This ensures that it runs correctly under the control of Emacs.
<li> Signal handler for SIGCHLD gepatcht.
<li> Octave needs the GNUPLOT 3.6 beta to display multiple plots.
<li> Since the new compiler supports multiple heaps it is no longer
     necessary to fix the heap size during the installation.
<li> The environment variable OCTAVE_INITFILE specifies the name of
     the init file octave executes on startup.
</ul>
</ul><p>



<hr><center><table align=center border CELLSPACING=10 CELLPADDING=10>
<tr><td align=center><font size=5>
Changes since the Version 1.1.0 of Octave for OS/2</font></table></center>


<ul><dt><b>Octave 1.1.1 Build 08:</b></dt><hr>
<ul>
<li> The cursor type will be selected in readline.
<li> New Compiler (emx-gcc 0.9c) and libraries used.
<li> The Stacksize has been increased.
<li> Signal handling is improved:<br>
     Ctrl-Break always acts in the same way Ctrl-C does.<br>
     No signal handler for SIGTERM!
</ul>
</ul><p>


<ul><dt><b>Octave 1.1.1 Build 07:</b></dt><hr>
<ul>
<li> All FPE signals are now explicity masked off:<br>
     This fixes the bugs when running Octave on systems with GAMESRVR.DLL.
</ul>
</ul><p>


<ul><dt><b>Octave 1.1.1 Build 06:</b></dt><hr>
<ul>
<li> Pause now works also when running Octave under Emacs.
<li> The Octave's 'system' (or 'shell_cmd') is fixed.<br>
     This fixes also the bug in saveimage.
<li> xvos2 now uses the image viewer specified in the environment variable
     OCTAVE_IMAGE_VIEWER, if set, or ib.exe if not.
</ul>
</ul><p>


<ul><dt><b>Octave 1.1.1 Build 05:</b></dt><hr>
<ul>
<li> New Compiler (emx-gcc 0.9B) and libraries (stdcpp, libg++, ...)
<li> New info browser version 2.14
<li> parse.y was patched:<br>
     A parse error will not abort the parser,
     if octave is forced to be interactive (-i).
<li> lex.l was patched:<br>
     SIGINT will not crash Octave, if octave is forced to be interactive (-i).
<li> info will not kill the octave process, if the terminal type is emacs.
     It displays a message, so that emacs can start its own info browser.
<li> The routines read and write in liboctave/dMatrix.cc are patched:<br>
     The streams are set to binary mode before writing/reading and set back to
     text mode after.
<li> Emacs-Shell-Mode for Octave including Info, temporary files, script files.
<li> New function in Octave: add_to_command_number.
</ul>
</ul><p>


<ul><dt><b>Octave 1.1.1 Build 04:</b></dt><hr>
<ul>
<li> image uses now ib.exe (the Multimedia Viewer coming with Warp)
     to view the images. This works also when GNUPLOT is running.
<li> GNUPLOT is now started as PM program in a different session:<br>
     Now one can use Ctrl-C to interrupt Octave, when Gnuplot is running.
<li> Internal Changes in Iostream:<br>
     New function _io_popen (used in the member functions of the class procbuf)
     The command is now executed direct, without the command processor cmd.exe
     (or ...). The way the program is started (PM, Session, ...) is specified
     in the third argument of _io_popen. If this fails, the command is executed
     via the command processor.
<li> A new signal handler (SIGINT) for parse_and_execute:<br>
     The script files are closed, if the execution is interrupted by the user.
     The signal works like an error! 
</ul>
</ul><p>


<ul><dt><b>Octave 1.1.1 Build 03:</b></dt><hr>
<ul>
<li>The signal handler is fixed: Ctrl-C works now more than only ones.
</ul>
</ul><p>


<ul><dt><b>Octave 1.1.1 Build 02:</b></dt><hr>
<ul>
<li> The function script polyreduce.m is fixed:<br>
     The functions deconv and residue are working.
<li> The Fortran and C routines are now in DLLs. This reduces the
     size of the executable and octave needs not so much memory at start time.
<li> The libraries of info, kpathsea and readline are linked using DLLs.
     The stand-alone info browser (info.exe) uses also that DLLs.
<li> The heap is not longer fixed to 32 MB (by emx gcc). The user can
     select the best heap size for his problems and his system.
<li> The iostream library is fixed: Octave reads binary files
     (load -b or load -m).
<li> A few changes in the source code.
<li> New Version of Octave (1.1.1).
<li> Octave no longer hangs the WPS, if it is closed by typing quit,
     while GNUPLOT is still running.
</ul>
</ul><p>



<hr><center><table align=center border CELLSPACING=10 CELLPADDING=10>
<tr><td align=center><font size=5>
Changes since the Version 1.0 of Octave for OS/2</font></table></center>

<ul><dt><b>Octave 1.1.0 Build 01:</b></dt><hr>
<ul>
<li> Octave now uses ';' as separator in paths.
<li> Drives are now supported in paths:<br>
     You can start octave from a different drive and
     octave will find the script files.
<li> Drives are also supported in 'cd' and 'pwd'.
<li> Control-C works more than once.
<li> By defining USE_EXTERNAL_TEMPLATES and using emxbind -s
     I made the file octave.exe much smaller.
<li> The temporary files created by the commands edit_history and
     run_history are deleted.
<li> The info files are changed for FAT.
<li> I have created a second set of script files, patched for FAT.
<li> Octave uses the file in the environment variable OCTAVE_INITFILE
     instead of .octaverc, if the variable is set.
<li> New Version of Octave (Version 1.1.0)
<li> New Compiler (emx-gcc 0.9A) and libraries (iostream 0.66)
<li> I added the extproc-statement.
<li> Octave executes now a interactive script from a file in the command line.
<li> Images can be viewed using ghostscript.
<li> Octave uses now GNUPLOT 3.5.
</ul>
</ul><p>



<hr><center><address>Copyright &copy; 1997<em>
<a href="mailto:gebhkla@t-online.de">Klaus Gebhardt</a>
</em></address></center>

</body>
</html>
